<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Gimnasio - Service Detail</title>
	<meta charset="utf-8">
	<meta name="keywords" content="Gimnasio, Fitness Template, Gym Template" />
    <meta name="description" content="Help For Ideal Body Fitness. With our professional trainers, we will guide you with the best program to help you get a healthy body." />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

	<!-- FavIcon Link -->
	<link rel="icon" href="/images/favicon.png" type="image/gif" sizes="16x16">

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

	<!-- Bootstrap CSS Link -->
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">

    <!-- Swiper Slider CSS Link -->
	<link rel="stylesheet" type="text/css" href="/css/swiper-bundle.min.css">

    <!-- Fancybox CSS Link -->
	<link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.min.css">

	<!-- Wow Animation CSS Link -->
	<link rel="stylesheet" type="text/css" href="/css/animate.css">

	<!-- Main Style CSS Link -->
	<link rel="stylesheet" type="text/css" href="/css/style.css">

</head>
<body class="fixed">
<div class="bg-animate">
    <span class="shape-1 animate-this"></span>
    <span class="shape-2 animate-this"></span>
    <span class="shape-3 animate-this"></span>
    <span class="shape-4 animate-this"></span>
    <span class="shape-5 animate-this"></span>
    <span class="shape-6 animate-this"></span>
</div>
<div class="main">

    <!-- Loader Start -->
    <div class="loader-box">
        <div class="loader">
            <div class="dot-1"></div>
            <div class="dot-2"></div>
            <div class="dot-3"></div>     
        </div>
    </div>
    <!-- Loader End -->

    <!-- Header Start -->
    <header class="site-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="site-brnading">
                        <a href="/" title="Gimnasio">
                            <img src="/images/logo.png" width="170" height="27" alt="Gimnasio">
                        </a>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="header-menu">
                        <nav class="main-navigation">
                            <button class="toggle-button"><span></span></button>
                            <div class="mobile-menu-box">
								<ul>
									<li class=""><a href="/" title="Home">Home</a></li>
									<li><a href="/about_us" title="About Us">About Us</a></li>
                                    <li class=""><a href="/workout_builder" title="Service">Workout Builder</a></li>
                                    <li class=""><a href="/faq" title="FAQ">FAQ</a></li>
									<li><a href="/register" title="Contact">Register Now</a></li>
								</ul>
							</div>
                        </nav>
                        <div class="header-btn">
                            <a href="/login" class="sec-btn" title="Join Us"><span>Login</span></a>
                        </div>
                        <div class="black-shadow"></div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->

    <!-- Banner Start -->
    <section class="main-banner inner-banner back-img" style="background-image: url('/images/bg-shape.png');">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="banner-content">
                        <h1 class="h1-title"><%= id %></h1>
                        <div class="breadcreumb">
                            <ul>
                                <li><a href="/" title="Home">Home</a></li>
                                <li><a href="/workout_builder" title="Services">Workout Builder</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Banner End -->

    <!-- Our Services Start -->
    <section class="common-sec page-service-detail">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="service-detail-img back-img wow fadeup-animation" data-wow-duration="0.8s" data-wow-delay="0.2s" style="background-image: url('/images/service-detail-img.jpg');"></div>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-lg-7 offset-1">
                    <div class="service-detail-content">
                        <h2 class="h2-title">Benefits of <%= id %></h2>
                        <ul>
                           <% benefits.forEach(benefit => { %>
                            <li><%= benefit %></li>
                            <% }) %>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Our Services End -->

    <!-- Gallery Start -->
    <div class="main-gallery">
        <div class="gallery-slider">
            <div class="swiper-wrapper">
                <% workouts.forEach((exercise, index) => { %>
                    <div class="swiper-slide">
                        <div class="gallery-box">
                            <div class="service-detail-box">
                                <h3 class="h3-title"><%= exercise.exercise%></h3>
                                <ul>    
                                    <li><img src="<%= exercise.img %>"/></li>
                                    <li><span>Category <i>:</i></span> <%= exercise.workout %></li>
                                    <li><button id="modal-button" type="button" class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal<%= index %>">
                                        Learn More/Add to Calendar
                                    </button></li>
                                    </ul>
                            </div>
                        </div>
                    </div>
                <% }) %>
                
            </div>
        </div>
    </div>
    <!-- Gallery End -->
</br>

    <!-- Subscribe Start -->
    <section class="main-subscribe">
        <div class="container">
            <div class="row">
                <div class="col-xl-8 col-lg-10 m-auto">
                    <div class="subscribe-box">
                        <h2 class="h2-title">Subscribe For Our Daily Tips</h2>
                        <p>Want to know more about us and our mission? Enter your email to learn more!</p>
                        <div class="subscribe-from">
                            <div class="form-box">
                                <input type="email" name="email" placeholder="Email Address..." required>
                                <button type="submit" class="sec-btn"><span>Subscribe</span></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Subscribe End -->

    <!-- Footer Start -->
    <footer class="site-footer">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-lg-4">
                    <div class="footer-info">
                        <div class="footer-logo">
                            <a href="/" title="Gimnasio">
                                <img src="/images/logo.png" width="170" height="27" alt="Gimnasio">
                            </a>
                        </div>
                        <p>With our customizable workout calendar, you'll never walk into the gym without a plan again.</p>
                        <div class="social-icon">
                            <a href="javascript:void(0);" title="Follow on Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://github.com/klhkassel/full-stack-project" target="_blank"
                     title="Follow on github">
                     <i class="fa fa-github" aria-hidden="true"></i>
                  </a>
                            <a href="javascript:void(0);" title="Follow on Twitter"><i class="fab fa-twitter"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="our-links">
                        <h3 class="h3-title footer-title">Our Links</h3>
                        <ul>
                            <li><a href="/" title="Home">Home</a></li>
                            <li><a href="/about_us" title="About Us">About Us</a></li>
                            <li><a href="/workout_builder" title="Services">Workout Builder</a></li>
                            <li><a href="/login" title="Contact">Login</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-2">
                    <div class="our-links">
                        <h3 class="h3-title footer-title">Other Links</h3>
                        <ul>
                            <li><a href="/faq" title="FAQ">FAQ</a></li>
                            <li><a href="/bmi_calc" title="BMI Calculator">BMI Calculator</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="footer-contact">
                        <h3 class="h3-title footer-title">Contact Us</h3>
                        <div class="footer-contact-box">
                            <span class="icon"><i class="fas fa-phone-alt"></i></span>
                            <div class="footer-contact-box-text">
                                <p><a href="tel:1234568790" title="+1 234 5687 90">+1 234 5687 90</a></p>
                                <p><a href="tel:9876543210" title="+9 876 5432 10">+9 876 5432 10</a></p>
                            </div>
                        </div>
                        <div class="footer-contact-box">
                            <span class="icon"><i class="fas fa-envelope"></i></span>
                            <div class="footer-contact-box-text">
                                <p><a href="contactus@KATE.com" title="contactus@KATE.com">contactus@KATE.com</a></p>
                                <p><a href="services@KATE.com" title="services@KATE.com">services@KATE.com</a></p>
                            </div>
                        </div>
                        <div class="footer-contact-box">
                            <span class="icon"><i class="fas fa-map-marker-alt"></i></span>
                            <div class="footer-contact-box-text">
                                <p><a href="javascript:void(0);" title="127 7th Ave, Brooklyn, North Dakota, US">127 7th Ave, Brooklyn, North Dakota, US</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="copy-right">
                    <p>© 2022 <a href="https://themeforest.net/user/geekcodelab" title="Geek Code Lab">Geek Code Lab</a>. All Rights Reserved.</p>
                </div>
                <div class="footer-bottom-link">
                    <ul>
                        <li><a href="javascript:void(0);" title="Privacy Policy">Privacy Policy</a></li>
                        <li><a href="javascript:void(0);" title="Terms & Condition">Terms & Condition</a></li>
                        <li><a href="javascript:void(0);" title="Cookie policy">Cookie policy</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer End -->


    <!-- Scroll To Top Start -->
    <a href="javascript:void(0);" id="scroll-to-top" class="scroll-to-top">
        <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
    </a>
    <!-- Scroll To Top End -->

</div>
<% workouts.forEach((exercise, index) => { %>
    <%= console.log(exercise)%>
<div data-exerciseid="<%= exercise.id %>" class="modal fade" id="exampleModal<%= index %>" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"><%= exercise.exercise %></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            
            <ul>
                <li><span>Instructions <i>: </i></span><%= exercise.instructions%></li>
                <li><span>Add to Calendar <i>: </i></span>
                    <p>
                        Day(s):
                        <% dayofweek.forEach(day => { %>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" id="dayOfWeek<%= day.id%>" value="<%= day.id%>">
                            <label class="form-check-label" for="dayOfWeek<%= day.id%>"><%= day.dayofweek%></label>
                        </div>
                        <% }) %>
                    </p>
                </li>
            </ul>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn close-button" data-bs-dismiss="modal">Close</button>
            
            <button type="button" class="btn calendar-button" onclick=addToCalendar(<%= index %>)>Add to Calendar</button>
        </div>
        </div>
    </div>
    </div>
<% }) %>



<!-- Jquery JS Link -->
<script src="/js/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS Link -->
<script src="/js/bootstrap.min.js"></script>
<script src="/js/popper.min.js"></script>

<!-- Moving Js Link -->
<script src="/js/bg-moving.js"></script>

<!-- Swiper Slider JS Link -->
<script src="/js/swiper-bundle.min.js"></script>

<!-- Fancybox JS Link -->
<script src="/js/jquery.fancybox.min.js"></script>

<!-- Font Awesome JS Link -->
<script src="/js/font-awesome.min.js"></script>

<!-- Wow Animation JS Link -->
<script src="/js/wow.min.js"></script>

<!-- Custom JS Link -->
<script src="/js/custom.js"></script>

<script>
    function addToCalendar(modalIdx) {
        const $modal = $(`#exampleModal${modalIdx}`);
        
        const exerciseId = $modal.data("exerciseid");
        const $checkedDays = $modal.find('input[type="checkbox"]:checked');

        if($checkedDays.length == 0) {
            alert('You must select at least one Day.');
            return;
        }
        const weekdays = []
        const daysOfWeek = $checkedDays.map(idx => {

            weekdays[idx] = $checkedDays[idx].value
        });
        console.log(weekdays)
        console.log(exerciseId)
        $.post('/exercises', {
            'exerciseId' : exerciseId,
            'daysOfWeek': weekdays
        }, function(data) { 
            $modal.close();
        }, "json");
    }
</script>
</body>
</html>